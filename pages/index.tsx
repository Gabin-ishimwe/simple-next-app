import Head from 'next/head'
import Image from 'next/image'
import { Inter } from '@next/font/google'
import styles from '../styles/Home.module.css'

const inter = Inter({ subsets: ['latin'] })

export default function Home({data}) {

  return (
    <>
      <Head>
        <title>Events</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <nav>
        <a href='/'>Home</a>
        <a href='/events'>Events</a>
        <a href='/about-us'>About Us</a>
      </nav>
      <main className={styles.main}>
        <div>
          {
            data.map((info) => (
                <a href={`/events/` + info.id} key={info.id}>
                <h2>{info.title}</h2>
                <p>{info.description}</p>
                <Image width={200} height={200} src={info.image} alt={info.id}/>
                </a>
            ))
          }
        </div>
      </main>
    </>
  )
}

// prerender data from the server side
export async function getServerSideProps () {
  const {events_categories}= await import("../data/data.json")
  return {
      props: {
          data: events_categories
      }
  }
}